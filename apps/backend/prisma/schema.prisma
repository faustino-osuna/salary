generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model bono {
  id       Int     @id @default(autoincrement())
  cantidad Decimal @db.Decimal(10, 2)
  rolId    Int
  role     role    @relation(fields: [rolId], references: [id], map: "Bono_rolId_fkey")

  @@index([rolId], map: "Bono_rolId_fkey")
}

model empleado {
  id           Int          @id @default(autoincrement())
  nombre       String       @db.VarChar(65)
  numero       Int          @unique(map: "Empleado_numero_key")
  activo       Boolean      @default(true)
  rolId        Int
  tipoId       Int
  role         role         @relation(fields: [rolId], references: [id], map: "Empleado_rolId_fkey")
  tipoempleado tipoempleado @relation(fields: [tipoId], references: [id], map: "Empleado_tipoId_fkey")
  movimiento   movimiento[]

  @@index([rolId], map: "Empleado_rolId_fkey")
  @@index([tipoId], map: "Empleado_tipoId_fkey")
}

model movimiento {
  id              Int          @id @default(autoincrement())
  horasTrabajadas Decimal      @default(8.00) @db.Decimal(6, 2)
  entregas        Int          @default(0)
  fecha           DateTime     @db.Date
  empleadoId      Int
  rolId           Int
  tipoId          Int
  cubrio_turno    Boolean      @default(false)
  empleado        empleado     @relation(fields: [empleadoId], references: [id], map: "Movimiento_empleadoId_fkey")
  role            role         @relation(fields: [rolId], references: [id], map: "Movimiento_rolId_fkey")
  tipoempleado    tipoempleado @relation(fields: [tipoId], references: [id], map: "Movimiento_tipoId_fkey")

  @@index([empleadoId], map: "Movimiento_empleadoId_fkey")
  @@index([rolId], map: "Movimiento_rolId_fkey")
  @@index([tipoId], map: "Movimiento_tipoId_fkey")
}

model parametrosueldo {
  id          Int     @id @default(autoincrement())
  nombre      String  @unique(map: "ParametroSueldo_nombre_key") @db.VarChar(65)
  valor       Decimal @db.Decimal(12, 2)
  descripcion String? @db.VarChar(200)
}

model role {
  id         Int          @id @default(autoincrement())
  nombre     String       @db.VarChar(50)
  bono       bono[]
  empleado   empleado[]
  movimiento movimiento[]
}

model tipoempleado {
  id         Int          @id @default(autoincrement())
  nombre     String       @db.VarChar(50)
  empleado   empleado[]
  movimiento movimiento[]
}
